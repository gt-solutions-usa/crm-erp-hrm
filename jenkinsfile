pipeline {
    agent any  // This means the pipeline will run on any available agent

    stages {
        stage('Build Docker Compose Up') {
            steps {
                script {
                    // Ensure Docker is installed and running
                    sh 'docker --version'  // Verify Docker is installed
                    sh 'docker-compose --version'  // Verify Docker Compose is installed

                    // Run docker-compose up in detached mode
                    sh 'docker-compose up -d'

                    // Optionally, check logs for debugging purposes
                    sh 'docker-compose logs'
                }
            }
        }
    }

    post {
        always {
            // Clean up Docker Compose containers after the pipeline finishes
            sh 'docker-compose down'
        }
    }
}
